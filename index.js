(()=>{"use strict";var e={681:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.Regex=void 0;const n=a(352),o=a(736);t.Regex={IsUUI:/^(?:(?:[a-fA-F0-9]){8,8}-(?:[a-fA-F0-9]){4,4}-(?:[a-fA-F0-9]){4,4}-(?:[a-fA-F0-9]){4,4}-(?:[a-fA-F0-9]){12,12})$/,IsEmail:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/},t.Message={NotUUID:(e,t,a)=>`(${t}): Invalid UUID string format value: '${a}'`,NotEmail:(e,t,a)=>`(${t}): Invalid email string format value: '${a}'`,NotArray:(e,t,a)=>{var n,r,i;return`(${t}): Invalid array value: '${(0,o.print)(a)}'. Allowed values: [${null===(n=e.items)||void 0===n?void 0:n.type},${null===(r=e.items)||void 0===r?void 0:r.type},${null===(i=e.items)||void 0===i?void 0:i.type}...].`},NotInteger:(e,t,a)=>`(${t}): Invalid integer value: '${(0,o.print)(a)}'.`,NotNumber:(e,t,a)=>`(${t}): Invalid number value: '${(0,o.print)(a)}'.`,NotBoolean:(e,t,a)=>`(${t}): Invalid boolean value: '${(0,o.print)(a)}'.`,NotTimestamp:(e,t,a)=>`(${t}): Invalid date-time value: '${(0,o.print)(a)}'.`,NotObject:(e,t,a)=>`(${t}): Invalid object value: '${(0,o.print)(a)}'.`,NotString:(e,t,a)=>`(${t}): Invalid string value: '${(0,o.print)(a)}'.`,NotInRange:(e,t,a)=>`(${t}): Invalid ${e.type===n.Type.Number?e.type:`${e.type} length`} not in range: '${(0,o.printLength)(a)}'. Allowed range: ${e.minLength}-${e.maxLength}`,NotInEnum:(e,t,a)=>{var n;return`(${t}): Invalid enum value: '${(0,o.print)(a)}'. Allowed values: [${null===(n=e.enum)||void 0===n?void 0:n.toLocaleString()}].`},Required:(e,t,a)=>`(${t}): Is required. Received: '${(0,o.print)(a)}'.`,Invalid:(e,t,a)=>`(${t}): Failed additional validation. Received: '${(0,o.print)(a)}'.`}},391:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0,t.Exception=class{constructor(e,t,a){this.scheme=e,this.key=t,this.value=a}throw(e,t){var a,n;let o=e(this.scheme,this.key,this.value);if((null===(a=this.scheme.exception)||void 0===a?void 0:a.message)&&(o=this.scheme.exception.message(o,this.key,this.value,t)),null===(n=this.scheme.exception)||void 0===n?void 0:n.constructor){const e=[o,...this.scheme.exception.parameters||[]];throw new(this.scheme.exception.class||Error)(...e)}throw new Error(o)}}},352:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Type=t.Format=t.Reason=void 0;const o=a(681),r=a(391),i=n(a(23)),s=n(a(383)),l=n(a(609)),u=a(860);Object.defineProperty(t,"Format",{enumerable:!0,get:function(){return u.Format}}),Object.defineProperty(t,"Reason",{enumerable:!0,get:function(){return u.Reason}}),Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return u.Type}});class d{constructor(e){this.scheme=e,this.scheme=this.setDefaults(this.scheme)}setDefaults(e){const t=e;return void 0===t.minLength&&(t.type===u.Type.Number?t.minLength=Number.MIN_SAFE_INTEGER:t.minLength=0),void 0===t.maxLength&&(t.maxLength=Number.MAX_SAFE_INTEGER),t}validate(e,t="GatekeeperRootReference"){const a=new r.Exception(this.scheme,t,e);if(void 0===e){if(!this.scheme.required)return;a.throw(o.Message.Required,u.Reason.Required)}this.scheme.type===u.Type.Array?(0,s.default)(t,e,this.scheme,a):this.scheme.type===u.Type.Object?(0,l.default)(e,this.scheme,a):(0,i.default)(t,e,this.scheme),this.scheme.onValidate&&!this.scheme.onValidate(e)&&a.throw(o.Message.Invalid,u.Reason.OnValidate)}static validate(e,t,a){new d(t).validate(e,a)}}t.default=d},383:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(a(23)),r=a(352),i=a(681),s=n(a(430)),l=n(a(609)),u=(e,t,a,n)=>{if(!a.items)return;if(!Array.isArray(t)||0===t.length){if(!a.required)return;n.throw(i.Message.NotArray,r.Reason.Required)}let d=0,m=Number.MAX_SAFE_INTEGER;"number"==typeof a.minLength&&(d=a.minLength),"number"==typeof a.maxLength&&(m=a.maxLength),(t.length<d||t.length>m)&&n.throw(i.Message.NotInRange,r.Reason.Range),a.items.exception=(0,s.default)(a,a.items);for(const s of t)a.items.type===r.Type.Array?u(e,s,a.items,n):a.items.type===r.Type.Object?(0,l.default)(s,a.items,n):(0,o.default)(e,s,a.items),a.items.onValidate&&!a.items.onValidate(s)&&n.throw(i.Message.Invalid,r.Reason.OnValidate)};t.default=u},205:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=a(352),o=a(681);t.default=(e,t)=>{!0===e||!1===e||"true"===e||"false"===e||t.throw(o.Message.NotBoolean,n.Reason.Type)}},439:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=a(352),o=a(681);t.default=(e,t,a)=>{t.enum.includes(e)||a.throw(o.Message.NotInEnum,n.Reason.Enum)}},23:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(352),r=a(391),i=n(a(205)),s=n(a(439)),l=n(a(5)),u=n(a(498));t.default=(e,t,a)=>{const n=new r.Exception(a,e,t);a.type===o.Type.Number&&(0,l.default)(t,a,n),a.type===o.Type.Boolean&&(0,i.default)(t,n),a.type===o.Type.String&&(0,u.default)(t,a,n),(null==a?void 0:a.enum)&&(0,s.default)(t,a,n)}},5:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=a(352),o=a(681);t.default=(e,t,a)=>{let r=NaN;(null==t?void 0:t.format)===n.Format.Float?r=parseFloat(e):(null==t?void 0:t.format)===n.Format.Integer?(r=parseFloat(e),r.toString().includes(".")&&a.throw(o.Message.NotInteger,n.Reason.Format)):r=parseFloat(e),isNaN(r)&&a.throw(o.Message.NotNumber,n.Reason.Type);let i=0,s=Number.MAX_SAFE_INTEGER;"number"==typeof t.minLength&&(i=t.minLength),"number"==typeof t.maxLength&&(s=t.maxLength),(e<i||e>s)&&a.throw(o.Message.NotInRange,n.Reason.Range)}},609:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(352),r=n(a(352)),i=a(681),s=n(a(430));t.default=(e,t,a)=>{("object"!=typeof e||Array.isArray(e))&&a.throw(i.Message.NotObject,o.Reason.Type);for(const a in t.properties)t.properties[a].exception=(0,s.default)(t,t.properties[a]),r.default.validate(e[a],t.properties[a],a)}},498:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=a(352),o=a(681);t.default=(e,t,a)=>{if("string"!=typeof e&&a.throw(o.Message.NotString,n.Reason.Type),(null==t?void 0:t.format)===n.Format.DateTime){const t=Date.parse(e);isNaN(t)&&a.throw(o.Message.NotTimestamp,n.Reason.Format)}(null==t?void 0:t.format)===n.Format.UUID&&(o.Regex.IsUUI.test(e)||a.throw(o.Message.NotUUID,n.Reason.Format)),(null==t?void 0:t.format)===n.Format.Email&&(o.Regex.IsEmail.test(e)||a.throw(o.Message.NotEmail,n.Reason.Format));let r=0,i=Number.MAX_SAFE_INTEGER;"number"==typeof t.minLength&&(r=t.minLength),"number"==typeof t.maxLength&&(i=t.maxLength),(e.length<r||e.length>i)&&a.throw(o.Message.NotInRange,n.Reason.Range)}},860:(e,t)=>{var a,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Reason=t.Format=t.Type=void 0,(o=t.Type||(t.Type={})).Object="object",o.Number="number",o.Boolean="boolean",o.String="string",o.Array="array",(n=t.Format||(t.Format={})).Float="float",n.Integer="integer",n.DateTime="date-time",n.UUID="uuid",n.Email="email",(a=t.Reason||(t.Reason={})).Required="required",a.Type="type",a.OnValidate="on-validate",a.Enum="enum",a.Range="range",a.Format="format"},430:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const a=e.exception,n=t.exception,o=null!=n?n:{};return(null==a?void 0:a.passThrough)&&((null==a?void 0:a.class)&&!(null==n?void 0:n.class)&&(o.class=a.class),(null==a?void 0:a.parameters)&&!(null==n?void 0:n.parameters)&&(o.parameters=a.parameters),(null==a?void 0:a.message)&&!(null==n?void 0:n.message)&&(o.message=a.message),(null==a?void 0:a.passThrough)&&!(null==n?void 0:n.passThrough)&&(o.passThrough=a.passThrough)),o}},736:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.printLength=t.print=void 0,t.print=e=>"string"==typeof e?e:null===e?"null":void 0===e?"undefined":"object"==typeof e&&Array.isArray(e)?e:"object"==typeof e?JSON.stringify(e):"number"==typeof e?e:e.toString(),t.printLength=e=>{const a=(0,t.print)(e);return"number"==typeof a?a:a.length}}},t={},a=function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}(352),n=exports;for(var o in a)n[o]=a[o];a.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();