(()=>{"use strict";var e={681:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.Regex=void 0;const o=a(352),n=a(736);t.Regex={IsUUI:/^(?:(?:[a-fA-F0-9]){8,8}-(?:[a-fA-F0-9]){4,4}-(?:[a-fA-F0-9]){4,4}-(?:[a-fA-F0-9]){4,4}-(?:[a-fA-F0-9]){12,12})$/,IsEmail:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/},t.Message={NotUUID:(e,t,a)=>`(${t}): Invalid UUID string format value: '${a}'`,NotEmail:(e,t,a)=>`(${t}): Invalid email string format value: '${a}'`,NotArray:(e,t,a)=>{var o,r,s;return`(${t}): Invalid array value: '${(0,n.print)(a)}'. Allowed values: [${null===(o=e.items)||void 0===o?void 0:o.type},${null===(r=e.items)||void 0===r?void 0:r.type},${null===(s=e.items)||void 0===s?void 0:s.type}...].`},NotInteger:(e,t,a)=>`(${t}): Invalid integer value: '${(0,n.print)(a)}'.`,NotFloat:(e,t,a)=>`(${t}): Invalid float value: '${(0,n.print)(a)}'.`,NotNumber:(e,t,a)=>`(${t}): Invalid number value: '${(0,n.print)(a)}'.`,NotBoolean:(e,t,a)=>`(${t}): Invalid boolean value: '${(0,n.print)(a)}'.`,NotTimestamp:(e,t,a)=>`(${t}): Invalid date-time value: '${(0,n.print)(a)}'.`,NotObject:(e,t,a)=>`(${t}): Invalid object value: '${(0,n.print)(a)}'.`,NotString:(e,t,a)=>`(${t}): Invalid string value: '${(0,n.print)(a)}'.`,NotInRange:(e,t,a)=>`(${t}): Invalid ${e.type===o.Type.Number?e.type:`${e.type} length`} not in range: '${(0,n.printLength)(a)}'. Allowed range: ${e.minLength}-${e.maxLength}`,NotInEnum:(e,t,a)=>{var o;return`(${t}): Invalid enum value: '${(0,n.print)(a)}'. Allowed values: [${null===(o=e.enum)||void 0===o?void 0:o.toLocaleString()}].`},Required:(e,t,a)=>`(${t}): Is required. Received: '${(0,n.print)(a)}'.`,Invalid:(e,t,a)=>`(${t}): Failed additional validation. Received: '${(0,n.print)(a)}'.`}},391:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0,t.Exception=class{constructor(e,t,a){this.scheme=e,this.key=t,this.value=a}throw(e,t){var a,o;let n=e(this.scheme,this.key,this.value);if((null===(a=this.scheme.exception)||void 0===a?void 0:a.message)&&(n=this.scheme.exception.message(n,this.key,this.value,t)),null===(o=this.scheme.exception)||void 0===o?void 0:o.constructor){const e=[n,...this.scheme.exception.parameters||[]];throw new(this.scheme.exception.class||Error)(...e)}throw new Error(n)}}},352:function(e,t,a){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Type=t.Format=t.Reason=void 0;const n=a(681),r=a(391),s=o(a(23)),i=o(a(383)),l=o(a(609)),u=a(860);Object.defineProperty(t,"Format",{enumerable:!0,get:function(){return u.Format}}),Object.defineProperty(t,"Reason",{enumerable:!0,get:function(){return u.Reason}}),Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return u.Type}});class d{constructor(e){this.scheme=e,this.scheme=this.setDefaults(this.scheme)}setDefaults(e){const t=e;return void 0===t.minLength&&(t.type===u.Type.Number?t.minLength=Number.MIN_SAFE_INTEGER:t.minLength=0),void 0===t.maxLength&&(t.maxLength=Number.MAX_SAFE_INTEGER),t}validate(e,t="GatekeeperRootReference"){const a=new r.Exception(this.scheme,t,e);if(void 0===e){if(!this.scheme.required)return;a.throw(n.Message.Required,u.Reason.Required)}this.scheme.type===u.Type.Array?(0,i.default)(t,e,this.scheme,a):this.scheme.type===u.Type.Object?(0,l.default)(e,this.scheme,a):(0,s.default)(t,e,this.scheme),this.scheme.onValidate&&!this.scheme.onValidate(e)&&a.throw(n.Message.Invalid,u.Reason.OnValidate)}static validate(e,t,a){new d(t).validate(e,a)}}t.default=d},383:function(e,t,a){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(a(23)),r=a(352),s=a(681),i=o(a(430)),l=o(a(609)),u=(e,t,a,o)=>{if(!a.items)return;if(!Array.isArray(t)||0===t.length){if(!a.required)return;o.throw(s.Message.NotArray,r.Reason.Required)}let d=0,m=Number.MAX_SAFE_INTEGER;"number"==typeof a.minLength&&(d=a.minLength),"number"==typeof a.maxLength&&(m=a.maxLength),(t.length<d||t.length>m)&&o.throw(s.Message.NotInRange,r.Reason.Range),a.items.exception=(0,i.default)(a,a.items);for(const i of t)a.items.type===r.Type.Array?u(e,i,a.items,o):a.items.type===r.Type.Object?(0,l.default)(i,a.items,o):(0,n.default)(e,i,a.items),a.items.onValidate&&!a.items.onValidate(i)&&o.throw(s.Message.Invalid,r.Reason.OnValidate)};t.default=u},205:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(352),n=a(681);t.default=(e,t)=>{!0===e||!1===e||"true"===e||"false"===e||t.throw(n.Message.NotBoolean,o.Reason.Type)}},439:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(352),n=a(681);t.default=(e,t,a)=>{t.enum.includes(e)||a.throw(n.Message.NotInEnum,o.Reason.Enum)}},23:function(e,t,a){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(352),r=a(391),s=o(a(205)),i=o(a(439)),l=o(a(5)),u=o(a(498));t.default=(e,t,a)=>{const o=new r.Exception(a,e,t);a.type===n.Type.Number&&(0,l.default)(t,a,o),a.type===n.Type.Boolean&&(0,s.default)(t,o),a.type===n.Type.String&&(0,u.default)(t,a,o),(null==a?void 0:a.enum)&&(0,i.default)(t,a,o)}},5:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(352),n=a(681);t.default=(e,t,a)=>{let r=NaN;(null==t?void 0:t.format)===o.Format.Float?(r=parseFloat(e),isNaN(r)&&a.throw(n.Message.NotNumber,o.Reason.Type),Math.floor(e)===e&&a.throw(n.Message.NotFloat,o.Reason.Format)):(null==t?void 0:t.format)===o.Format.Integer?(r=parseFloat(e),isNaN(r)&&a.throw(n.Message.NotNumber,o.Reason.Type),Math.floor(e)!==e&&a.throw(n.Message.NotInteger,o.Reason.Format)):(r=parseFloat(e),isNaN(r)&&a.throw(n.Message.NotNumber,o.Reason.Type));let s=0,i=Number.MAX_SAFE_INTEGER;"number"==typeof t.minLength&&(s=t.minLength),"number"==typeof t.maxLength&&(i=t.maxLength),(e<s||e>i)&&a.throw(n.Message.NotInRange,o.Reason.Range)}},609:function(e,t,a){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(352),r=o(a(352)),s=a(681),i=o(a(430));t.default=(e,t,a)=>{("object"!=typeof e||Array.isArray(e))&&a.throw(s.Message.NotObject,n.Reason.Type);for(const a in t.properties)t.properties[a].exception=(0,i.default)(t,t.properties[a]),r.default.validate(e[a],t.properties[a],a)}},498:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(352),n=a(681);t.default=(e,t,a)=>{if("string"!=typeof e&&a.throw(n.Message.NotString,o.Reason.Type),(null==t?void 0:t.format)===o.Format.DateTime){const t=Date.parse(e);isNaN(t)&&a.throw(n.Message.NotTimestamp,o.Reason.Format)}(null==t?void 0:t.format)===o.Format.UUID&&(n.Regex.IsUUI.test(e)||a.throw(n.Message.NotUUID,o.Reason.Format)),(null==t?void 0:t.format)===o.Format.Email&&(n.Regex.IsEmail.test(e)||a.throw(n.Message.NotEmail,o.Reason.Format));let r=0,s=Number.MAX_SAFE_INTEGER;"number"==typeof t.minLength&&(r=t.minLength),"number"==typeof t.maxLength&&(s=t.maxLength),(e.length<r||e.length>s)&&a.throw(n.Message.NotInRange,o.Reason.Range)}},860:(e,t)=>{var a,o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Reason=t.Format=t.Type=void 0,(n=t.Type||(t.Type={})).Object="object",n.Number="number",n.Boolean="boolean",n.String="string",n.Array="array",(o=t.Format||(t.Format={})).Float="float",o.Integer="integer",o.DateTime="date-time",o.UUID="uuid",o.Email="email",(a=t.Reason||(t.Reason={})).Required="required",a.Type="type",a.OnValidate="on-validate",a.Enum="enum",a.Range="range",a.Format="format"},430:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const a=e.exception,o=t.exception,n=null!=o?o:{};return(null==a?void 0:a.passThrough)&&((null==a?void 0:a.class)&&!(null==o?void 0:o.class)&&(n.class=a.class),(null==a?void 0:a.parameters)&&!(null==o?void 0:o.parameters)&&(n.parameters=a.parameters),(null==a?void 0:a.message)&&!(null==o?void 0:o.message)&&(n.message=a.message),(null==a?void 0:a.passThrough)&&!(null==o?void 0:o.passThrough)&&(n.passThrough=a.passThrough)),n}},736:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.printLength=t.print=void 0,t.print=e=>"string"==typeof e?e:null===e?"null":void 0===e?"undefined":"object"==typeof e&&Array.isArray(e)?e:"object"==typeof e?JSON.stringify(e):"number"==typeof e?e:e.toString(),t.printLength=e=>{const a=(0,t.print)(e);return"number"==typeof a?a:a.length}}},t={},a=function a(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,a),r.exports}(352),o=exports;for(var n in a)o[n]=a[n];a.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();